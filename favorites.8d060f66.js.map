{"mappings":"6iBASMA,EAAO,CACTC,YAAaC,SAASC,cAAc,wBACpCC,uBAAwBF,SAASC,cAAc,qBAC/CE,oBAAqBH,SAASC,cAAc,kBAC5CG,QAASJ,SAASC,cAAc,mBAEpCI,QAAQC,IAAIR,EAAKM,SAGjBJ,SAASO,iBAAiB,oBAG1B,WACI,IAAMC,EAOV,WACE,IAAMC,EAAUC,aAAaC,QAAQ,aAC/BC,EAAOC,KAAKC,MAAML,GACxB,GAAIA,EACF,OAAOG,EAAKG,QACV,SAACP,EAAMQ,G,IAAIC,EAAKD,EAALC,MAAOC,EAAWF,EAAXE,YAAaC,EAAOH,EAAPG,QAASC,EAAMJ,EAANI,OAAQC,EAAEL,EAAFK,G,OAC9Cb,GAAS,EAAAc,EAAAC,SAAWN,EAAOC,EAAaC,EAASC,EAAQC,E,GAC3D,IAIJvB,EAAKM,QAAQoB,UAAUC,OAAO,W,CAlBbC,GACTC,GAqBAlB,EAAUC,aAAaC,QAAQ,aAC/BC,EAAOC,KAAKC,MAAML,GACxBJ,QAAQC,IAAIM,GACVH,EACMG,EACPgB,SAAQ,SAAAC,G,OAAUA,EAAOC,Q,IACzBC,QAAO,SAACD,EAAUE,EAAOC,G,OAAUA,EAAMC,QAAQJ,KAAcE,C,IAC/DjB,QAAO,SAACY,EAAgBG,G,OAAaH,EAI1C,SAAwBG,GACpB,MAAO,kCAA2CK,OAATL,EAAS,iB,CALKM,CAAeN,E,GAAW,IAC1E,IATX,IACUrB,EACAG,EArBN,IAAKJ,EAAQ,MAAM,IAAI6B,MAAO,aAC9BvC,EAAKK,oBAAoBmC,mBAAmB,YAAa9B,GACzDV,EAAKI,uBAAuBoC,mBAAmB,YAAaX,E,IAPhE7B,EAAKM,QAAQoB,UAAUe,IAAI,YAwC3BzC,EAAKC,YAAYQ,iBAAiB,SAElC,SAA0BiC,GACtB1C,EAAKK,oBAAoBsC,UAAY,GACrC,IAAMC,EAAaF,EAAIG,OAAOC,YACxBnC,EAAUC,aAAaC,QAAQ,aAE/BkC,EADOhC,KAAKC,MAAML,GACKsB,QAAO,SAACF,G,OAAWA,EAAOC,WAAaY,C,IACpErC,QAAQC,IAAIuC,GACZ,IAAMrC,EAMV,SAAgCqC,GAC5B,OAAOA,EAAgB9B,QAAO,SAACP,EAAMQ,G,IAAGC,EAAKD,EAALC,MAAOC,EAAWF,EAAXE,YAAaC,EAAOH,EAAPG,QAASC,EAAMJ,EAANI,OAAQC,EAAEL,EAAFK,G,OAAQb,GAAS,EAAAc,EAAAC,SAAWN,EAAOC,EAAaC,EAASC,EAAQC,E,GAAK,G,CAPpIyB,CAAuBD,GAEtC,GADAxC,QAAQC,IAAIE,IACPA,EAAQ,MAAM,IAAI6B,MAAO,aAC9BvC,EAAKK,oBAAoBmC,mBAAmB,YAAa9B,E","sources":["src/favorites.js"],"sourcesContent":["import './js/utils/localSctorage';\nimport './js/utils/switchTheme.js';\nimport './js/utils/mobile-menu.js';\nimport './js/utils/setClass.js'\n\nimport { OpenModal } from './js/utils/modal-recipes.js'\nimport renderItem from './js/renders/renders.js';\n// import {hendleClickOnRecipes} from './js/renders/search.js';\n\nconst refs = {\n    categoryBtn: document.querySelector('.favorite-categories'),\n    favoriteCategoriesList: document.querySelector('.rendered-buttons'),\n    favoriteRecipesList: document.querySelector('.favorite-list'),\n    warning: document.querySelector('.empty-storage'),\n}\nconsole.log(refs.warning)\n// localStorage.clear()\n\ndocument.addEventListener('DOMContentLoaded', onFavoritesRealod);\nrefs.warning.classList.add('isHidden');\n\nfunction onFavoritesRealod() {\n    const markup = generateStorageList();\n    const categoryMarkup = generateCategoryList();\n    if (!markup) throw new Error ('No result');\n    refs.favoriteRecipesList.insertAdjacentHTML('beforeend', markup);\n    refs.favoriteCategoriesList.insertAdjacentHTML('beforeend', categoryMarkup);\n}\n\nfunction generateStorageList() {\n  const storage = localStorage.getItem('favorites');\n  const data = JSON.parse(storage);\n  if (storage) {\n    return data.reduce(\n      (markup, { title, description, preview, rating, id }) =>\n        markup + renderItem(title, description, preview, rating, id),\n      ''\n    );\n  }\n  \n  refs.warning.classList.remove('isHidden');\n}\n\nfunction generateCategoryList() {\n    const storage = localStorage.getItem('favorites');\n    const data = JSON.parse(storage);\n    console.log(data)\n  if (storage) {\n    return (data\n    .flatMap(recipe => recipe.category)\n    .filter((category, index, array) => array.indexOf(category) === index)\n    .reduce((categoryMarkup, category) => categoryMarkup + renderCategory(category), ''))\n  } return '';\n}\n\nfunction renderCategory(category){\n    return `<li><button class=\"button-fav\">${category}</button></li>`\n}\n\nrefs.categoryBtn.addEventListener('click', filterByCategory);\n\nfunction filterByCategory(evt){\n    refs.favoriteRecipesList.innerHTML = '';\n    const currentBtn = evt.target.textContent;\n    const storage = localStorage.getItem('favorites');\n    const data = JSON.parse(storage);\n    const categoryRecipes = data.filter((recipe) => recipe.category === currentBtn);\n    console.log(categoryRecipes);\n    const markup = generateCategoryMarkup(categoryRecipes);\n    console.log(markup);\n    if (!markup) throw new Error ('No result');\n    refs.favoriteRecipesList.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction generateCategoryMarkup(categoryRecipes){\n    return categoryRecipes.reduce((markup, {title, description, preview, rating, id}) => markup + renderItem(title, description, preview, rating, id), '');\n}"],"names":["$f872ae3cf3d9dd7f$var$refs","categoryBtn","document","querySelector","favoriteCategoriesList","favoriteRecipesList","warning","console","log","addEventListener","markup","storage","localStorage","getItem","data","JSON","parse","reduce","param","title","description","preview","rating","id","$7Mtae","default","classList","remove","$f872ae3cf3d9dd7f$var$generateStorageList","categoryMarkup","flatMap","recipe","category","filter","index","array","indexOf","concat","$f872ae3cf3d9dd7f$var$renderCategory","Error","insertAdjacentHTML","add","evt","innerHTML","currentBtn","target","textContent","categoryRecipes","$f872ae3cf3d9dd7f$var$generateCategoryMarkup"],"version":3,"file":"favorites.8d060f66.js.map"}
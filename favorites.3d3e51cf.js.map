{"mappings":"iiBASA,MAAMA,EAAO,CACTC,YAAaC,SAASC,cAAc,wBACpCC,uBAAwBF,SAASC,cAAc,qBAC/CE,oBAAqBH,SAASC,cAAc,kBAC5CG,QAASJ,SAASC,cAAc,mBAEpCI,QAAQC,IAAIR,EAAKM,SAGjBJ,SAASO,iBAAiB,oBAG1B,WACI,MAAMC,EAOV,WACE,MAAMC,EAAUC,aAAaC,QAAQ,aAC/BC,EAAOC,KAAKC,MAAML,GACxB,GAAIA,EACF,OAAOG,EAAKG,QACV,CAACP,GAAQQ,MAAEA,EAAKC,YAAEA,EAAWC,QAAEA,EAAOC,OAAEA,EAAMC,GAAEA,KAC9CZ,GAAS,EAAAa,EAAAC,SAAWN,EAAOC,EAAaC,EAASC,EAAQC,IAC3D,IAIJtB,EAAKM,QAAQmB,UAAUC,OAAO,W,CAlBbC,GACTC,EAoBV,WACI,MAAMjB,EAAUC,aAAaC,QAAQ,aAC/BC,EAAOC,KAAKC,MAAML,GAE1B,OADEJ,QAAQC,IAAIM,GACVH,EACMG,EACPe,SAAQC,GAAUA,EAAOC,WACzBC,QAAO,CAACD,EAAUE,EAAOC,IAAUA,EAAMC,QAAQJ,KAAcE,IAC/DhB,QAAO,CAACW,EAAgBG,IAAaH,EAI1C,SAAwBG,GACpB,MAAO,kCAAkCA,iB,CALcK,CAAeL,IAAW,IAC1E,E,CA7BgBM,GACvB,IAAK3B,EAAQ,MAAM,IAAI4B,MAAO,aAC9BtC,EAAKK,oBAAoBkC,mBAAmB,YAAa7B,GACzDV,EAAKI,uBAAuBmC,mBAAmB,YAAaX,E,IAPhE5B,EAAKM,QAAQmB,UAAUe,IAAI,YAwC3BxC,EAAKC,YAAYQ,iBAAiB,SAElC,SAA0BgC,GACtBzC,EAAKK,oBAAoBqC,UAAY,GACrC,MAAMC,EAAaF,EAAIG,OAAOC,YACxBlC,EAAUC,aAAaC,QAAQ,aAE/BiC,EADO/B,KAAKC,MAAML,GACKqB,QAAQF,GAAWA,EAAOC,WAAaY,IACpEpC,QAAQC,IAAIsC,GACZ,MAAMpC,EAMV,SAAgCoC,GAC5B,OAAOA,EAAgB7B,QAAO,CAACP,GAAQQ,MAACA,EAAKC,YAAEA,EAAWC,QAAEA,EAAOC,OAAEA,EAAMC,GAAEA,KAAQZ,GAAS,EAAAa,EAAAC,SAAWN,EAAOC,EAAaC,EAASC,EAAQC,IAAK,G,CAPpIyB,CAAuBD,GAEtC,GADAvC,QAAQC,IAAIE,IACPA,EAAQ,MAAM,IAAI4B,MAAO,aAC9BtC,EAAKK,oBAAoBkC,mBAAmB,YAAa7B,E","sources":["src/favorites.js"],"sourcesContent":["import './js/utils/localSctorage';\nimport './js/utils/switchTheme.js';\nimport './js/utils/mobile-menu.js';\nimport './js/utils/setClass.js'\n\nimport { OpenModal } from './js/utils/modal-recipes.js'\nimport renderItem from './js/renders/renders.js';\n// import {hendleClickOnRecipes} from './js/renders/search.js';\n\nconst refs = {\n    categoryBtn: document.querySelector('.favorite-categories'),\n    favoriteCategoriesList: document.querySelector('.rendered-buttons'),\n    favoriteRecipesList: document.querySelector('.favorite-list'),\n    warning: document.querySelector('.empty-storage'),\n}\nconsole.log(refs.warning)\n// localStorage.clear()\n\ndocument.addEventListener('DOMContentLoaded', onFavoritesRealod);\nrefs.warning.classList.add('isHidden');\n\nfunction onFavoritesRealod() {\n    const markup = generateStorageList();\n    const categoryMarkup = generateCategoryList();\n    if (!markup) throw new Error ('No result');\n    refs.favoriteRecipesList.insertAdjacentHTML('beforeend', markup);\n    refs.favoriteCategoriesList.insertAdjacentHTML('beforeend', categoryMarkup);\n}\n\nfunction generateStorageList() {\n  const storage = localStorage.getItem('favorites');\n  const data = JSON.parse(storage);\n  if (storage) {\n    return data.reduce(\n      (markup, { title, description, preview, rating, id }) =>\n        markup + renderItem(title, description, preview, rating, id),\n      ''\n    );\n  }\n  \n  refs.warning.classList.remove('isHidden');\n}\n\nfunction generateCategoryList() {\n    const storage = localStorage.getItem('favorites');\n    const data = JSON.parse(storage);\n    console.log(data)\n  if (storage) {\n    return (data\n    .flatMap(recipe => recipe.category)\n    .filter((category, index, array) => array.indexOf(category) === index)\n    .reduce((categoryMarkup, category) => categoryMarkup + renderCategory(category), ''))\n  } return '';\n}\n\nfunction renderCategory(category){\n    return `<li><button class=\"button-fav\">${category}</button></li>`\n}\n\nrefs.categoryBtn.addEventListener('click', filterByCategory);\n\nfunction filterByCategory(evt){\n    refs.favoriteRecipesList.innerHTML = '';\n    const currentBtn = evt.target.textContent;\n    const storage = localStorage.getItem('favorites');\n    const data = JSON.parse(storage);\n    const categoryRecipes = data.filter((recipe) => recipe.category === currentBtn);\n    console.log(categoryRecipes);\n    const markup = generateCategoryMarkup(categoryRecipes);\n    console.log(markup);\n    if (!markup) throw new Error ('No result');\n    refs.favoriteRecipesList.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction generateCategoryMarkup(categoryRecipes){\n    return categoryRecipes.reduce((markup, {title, description, preview, rating, id}) => markup + renderItem(title, description, preview, rating, id), '');\n}"],"names":["$5680453e957fa117$var$refs","categoryBtn","document","querySelector","favoriteCategoriesList","favoriteRecipesList","warning","console","log","addEventListener","markup","storage","localStorage","getItem","data","JSON","parse","reduce","title","description","preview","rating","id","$cYlGq","default","classList","remove","$5680453e957fa117$var$generateStorageList","categoryMarkup","flatMap","recipe","category","filter","index","array","indexOf","$5680453e957fa117$var$renderCategory","$5680453e957fa117$var$generateCategoryList","Error","insertAdjacentHTML","add","evt","innerHTML","currentBtn","target","textContent","categoryRecipes","$5680453e957fa117$var$generateCategoryMarkup"],"version":3,"file":"favorites.3d3e51cf.js.map"}
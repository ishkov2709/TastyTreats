var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequiredfd9;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,i.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequiredfd9=i),i("9c7ox"),i("lF9VE"),i("18cvE"),i("aahN2"),i("2LJO6");var o=i("cYlGq"),a=i("JcIhZ"),r=i("2LJO6"),s=i("9c7ox");i("7Y9D8");const l={favoriteCategoriesList:document.querySelector(".favorite-categories"),favoriteRecipesList:document.querySelector(".favorite-list"),warning:document.querySelector(".empty-storage"),paginationBox:document.getElementById("pagination"),categoryBtn:document.querySelector(".favorite-categories"),allBtn:document.querySelector(".all-btn"),hiroImg:document.querySelector(".fav-hero"),recipesBox:document.getElementById("image-container"),modal:document.getElementById("scroll-rec"),saveRecipeBtn:document.querySelector(".save-recipes-btn")};let c="";function d(){const e=window.innerWidth;return e<768?9:e>=768?12:void 0}function f(e,t){const n={};for(let i=0;i<e.length;i+=t){n[Math.floor(i/t)+1]=e.slice(i,i+t)}return n}function u(){const e=function(){const e=localStorage.getItem("favorites"),t=JSON.parse(e);return e?t.flatMap((e=>e.category)).filter(((e,t,n)=>n.indexOf(e)===t)).reduce(((e,t)=>e+v(t)),""):""}(),t=JSON.parse(localStorage.getItem("favorites"));l.favoriteRecipesList.innerHTML="",l.favoriteCategoriesList.innerHTML="",t&&t.length?l.favoriteCategoriesList.innerHTML=`<button class="button-fav all-btn onActive" name="all">All categories</button>${e}`:l.allBtn.style.display="none",g()}function g(e=1){const t=localStorage.getItem("favorites"),n=JSON.parse(t);if(l.allBtn.style.display="none",n&&n.length){l.allBtn.style.display="block";const t=d(),i=f(n,t),r=Object.keys(i).length;r>1?(l.paginationBox.style.display="block",(0,a.default)(e,t,r,g),(0,s.changeThemePagination)()):l.paginationBox.style.display="none";const c=i[e].reduce(((e,{title:t,description:n,preview:i,rating:a,id:r,category:s})=>e+(0,o.default)(t,n,i,a,r,s)),"");l.favoriteRecipesList.innerHTML=c,l.warning.classList.add("is-hidden")}else l.warning.classList.remove("is-hidden"),l.allBtn.classList.add("is-hidden"),window.innerWidth<768&&l.hiroImg.classList.add("is-hidden")}function v(e){return`<button class="button-fav">${e}</button>`}l.categoryBtn.addEventListener("click",(function e(t){if(t.target.classList.contains("onActive"))return;let n,i=[];if(l.favoriteRecipesList.innerHTML="",t!==Number(t)&&"BUTTON"===t.target.nodeName){if(function({target:e}){const t=document.querySelector(".onActive");if(!t)return l.allBtn.classList.add("onActive");t.classList.remove("onActive"),e.classList.add("onActive")}(t),"all"===t.target.name)return g();c=t.target.textContent}const r=localStorage.getItem("favorites");if(i=JSON.parse(r),!i.length)return void(l.favoriteCategoriesList.style.display="none");n=[...i.filter((e=>e.category===c))];let s=1;Number(t)===t&&(s=t);const u=d(),v=f(n,u),p=Object.keys(v).length;p>1?(l.paginationBox.style.display="block",(0,a.default)(s,u,p,e)):l.paginationBox.style.display="none";const y=v[s].reduce(((e,{title:t,description:n,preview:i,rating:a,id:r,category:s})=>e+(0,o.default)(t,n,i,a,r,s)),"");l.favoriteRecipesList.innerHTML=y})),l.saveRecipeBtn.addEventListener("click",(function(e){(0,r.AddToFav)(e),u()})),l.recipesBox.addEventListener("click",(function({target:e}){if(!e.closest("button"))return;const t=e.closest("button");"favorite"===t.name&&(function(e){const t=JSON.parse(e.dataset.info),n=JSON.parse(localStorage.getItem("favorites"));localStorage.setItem("favorites",JSON.stringify([...n.filter((e=>e.id!==t.id))])),u()}(t),function(e){const t=e.closest("div.recipe-item").dataset.category,n=JSON.parse(localStorage.getItem("favorites")),i=n.find((e=>e.category===t)),o=[...l.favoriteCategoriesList.children].find((e=>e.textContent===t));!i&&o?o.remove():i&&!o&&l.favoriteCategoriesList.insertAdjacentHTML("beforeend",v(t)),n.length?l.allBtn.style.display="block":l.allBtn.style.display="none"}(e)),"details"===t.name&&((0,r.OpenModal)(t),l.saveRecipeBtn.removeEventListener("click",r.AddToFav))})),document.addEventListener("DOMContentLoaded",u);
//# sourceMappingURL=favorites.847f2723.js.map

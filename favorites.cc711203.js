function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},i=t.parcelRequiredfd9;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},t.parcelRequiredfd9=i),i("9c7ox"),i("lF9VE"),i("18cvE"),i("aahN2");var a=i("2LJO6"),r=i("cYlGq"),s=i("JcIhZ"),l=(a=i("2LJO6"),i("7Y9D8"));const c={favoriteCategoriesList:document.querySelector(".favorite-categories"),favoriteRecipesList:document.querySelector(".favorite-list"),warning:document.querySelector(".empty-storage"),paginationBox:document.getElementById("pagination"),categoryBtn:document.querySelector(".favorite-categories"),allBtn:document.querySelector(".all-btn"),hiroImg:document.querySelector(".fav-hero"),recipesBox:document.getElementById("image-container"),backdrop:document.querySelector(".backdrop-recipes")};let d="";function f(){const e=window.innerWidth;return e<768?9:e>=768?12:void 0}function u(e,t){const n={};for(let o=0;o<e.length;o+=t){n[Math.floor(o/t)+1]=e.slice(o,o+t)}return n}function g(){const e=function(){const e=localStorage.getItem("favorites"),t=JSON.parse(e);return e?t.flatMap((e=>e.category)).filter(((e,t,n)=>n.indexOf(e)===t)).reduce(((e,t)=>e+v(t)),""):""}(),t=document.querySelector(".button-fav.all-btn").outerHTML;JSON.parse(localStorage.getItem("favorites")).length&&(c.favoriteCategoriesList.innerHTML=`${t}${e}`),p()}function p(e=1){const t=localStorage.getItem("favorites"),n=JSON.parse(t);if(c.allBtn.style.display="none",n.length){c.allBtn.style.display="block";const t=f(),o=u(n,t),i=Object.keys(o).length;i>1?(c.paginationBox.style.display="block",(0,s.default)(e,t,i,p)):c.paginationBox.style.display="none";const a=o[e].reduce(((e,{title:t,description:n,preview:o,rating:i,id:a,category:s})=>e+(0,r.default)(t,n,o,i,a,s)),"");c.favoriteRecipesList.innerHTML=a}else c.warning.classList.remove("is-hidden"),c.allBtn.classList.add("is-hidden"),window.innerWidth<768&&c.hiroImg.classList.add("is-hidden")}function v(e){return`<button class="button-fav">${e}</button>`}document.addEventListener("DOMContentLoaded",g),c.categoryBtn.addEventListener("click",(function e(t){let n,o=[];if(c.favoriteRecipesList.innerHTML="",t!==Number(t)&&"BUTTON"===t.target.nodeName){if(function({target:e}){const t=document.querySelector(".onActive");if(!t)return c.allBtn.classList.add("onActive");t.classList.remove("onActive"),e.classList.add("onActive")}(t),"all"===t.target.name)return p();d=t.target.textContent}const i=localStorage.getItem("favorites");o=JSON.parse(i),n=[...o.filter((e=>e.category===d))];let a=1;Number(t)===t&&(a=t);const l=f(),g=u(n,l),v=Object.keys(g).length;v>1?(c.paginationBox.style.display="block",(0,s.default)(a,l,v,e)):c.paginationBox.style.display="none";const y=g[a].reduce(((e,{title:t,description:n,preview:o,rating:i,id:a,category:s})=>e+(0,r.default)(t,n,o,i,a,s)),"");c.favoriteRecipesList.innerHTML=y})),c.recipesBox.addEventListener("click",(function({target:t}){if(!t.closest("button"))return;const n=t.closest("button");"favorite"===n.name&&(function(t){const n=JSON.parse(t.dataset.info);var o;t.classList.toggle("active");const i=null!==(o=JSON.parse(localStorage.getItem("favorites")))&&void 0!==o?o:[];if(t.classList.contains("active")){if(i.find((e=>e.id===n.id)))return e(l).Notify.info("Recipe was added earlier");localStorage.setItem("favorites",JSON.stringify([...i,n]))}else localStorage.setItem("favorites",JSON.stringify([...i.filter((e=>e.id!==n.id))]))}(n),function(e){const t=e.closest("div.recipe-item").dataset.category,n=JSON.parse(localStorage.getItem("favorites")),o=n.find((e=>e.category===t)),i=[...c.favoriteCategoriesList.children].find((e=>e.textContent===t));!o&&i?i.remove():o&&!i&&c.favoriteCategoriesList.insertAdjacentHTML("beforeend",v(t)),n.length?c.allBtn.style.display="block":c.allBtn.style.display="none"}(t)),"details"===n.name&&(0,a.OpenModal)(n)})),c.backdrop.addEventListener("click",(({target:e})=>(e.className="save-recipes-btn",g())));
//# sourceMappingURL=favorites.cc711203.js.map
